##设计模式六大原则

六大原则是设计模式的方法论，而具体的设计模式是六大的原则是具体实践。

### 1.开放关闭

>对修改关闭，对扩展开放

**NOTE**
```
什么叫对修改关闭？
新业务的实现是否修改老代码？
能否基于同种模式，对新业务只是增量添加代码。且与老代码隔离？
```

[参考]https://zhuanlan.zhihu.com/p/24269134
### 2.单一职责
>定义：不要存在多于一个导致类变更的原因。通俗的说，即一个类只负责一项职责。
方法级别/类级别

如何在当前+可预见的业务范围内做恰当粒度的职责划分是单一原则的关键

**NOTE**
```
引申一下，单一原则不单单是对类有定义，同样也适用于方法。
如果每个方法的职责单一且纯粹，将业务逻辑和数据处理分离，
代码的可读性就会有很大提升。

方法不能太冗长。判断分支不能太多。结果要及时返回。业务逻辑要一眼可以看到和读懂。
```

[参考]https://zhuanlan.zhihu.com/p/24198903

### 3.依赖倒置
>高层模块不应该依赖低层模块，两者都应该依赖其抽象；抽象不应该依赖细节，细节应该依赖抽象

高层模块不直接依赖低层的实现，而是依赖于低层模块的抽象


**依赖倒置原则（DIP）**：一种软件架构设计的原则（抽象概念）。

**控制反转（IoC）**：一种反转流、依赖和接口的方式（DIP的具体实现方式）。这是一个有点不太好理解和解释的概念，通俗地说，就是应用程序本身不负责依赖对象的创建和维护，而是将它交给一个外部容器（比如Unity）来负责，这样控制权就由应用程序转移到了外部IoC 容器，即控制权实现了所谓的反转。例如在类型A中需要使用类型B的实例，而B 实例的创建并不由A 来负责，而是通过外部容器来创建。

**依赖注入（DI）**：IoC的一种实现方式，用来反转依赖（IoC的具体实现方式）。也有很多博文里面说IOC也叫DI，其实根据博主的理解，DI应该是IOC的具体实现方式，比如我们如何实现控制反转，答案就是通过依赖注入去实现。

**IoC容器**：依赖注入的框架，用来映射依赖，管理对象创建和生存周期（DI框架），自动创建、维护依赖对象

[参考]https://zhuanlan.zhihu.com/p/24175489


### 4.接口隔离
>其一是不应该强行要求客户端依赖于它们不用的接口；其二是类之间的依赖应该建立在最小的接口上面。

简单点说，客户端需要什么功能，就提供什么接口，对于客户端不需要的接口不应该强行要求其依赖；
类之间的依赖应该建立在最小的接口上面，这里最小的粒度取决于单一职责原则的划分

从功能上来看，接口隔离和单一职责两个原则具有一定的相似性。其实如果我们仔细想想还是有区别的。

*（1）从原则约束的侧重点来说，接口隔离原则更关注的是接口依赖程度的隔离，更加关注接口的“高内聚”；而单一职责原则更加注重的是接口职责的划分。

*（2）从接口的细化程度来说，单一职责原则对接口的划分更加精细，而接口隔离原则注重的是相同功能的接口的隔离。接口隔离里面的最小接口有时可以是多个单一职责的公共接口。

*（3）单一职责原则更加偏向对业务的约束，接口隔离原则更加偏向设计架构的约束。这个应该好理解，职责是根据业务功能来划分的，所以单一原则更加偏向业务；而接口隔离更多是为了“高内聚”，偏向架构的设计。

**NOTE**
```
思考下：为什么订单中间间的接口将读写分开？将实时读取（基于MySQL）和延迟读取（基于ES）分开？
```